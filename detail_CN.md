# Project1

以rastrain函数为例，自变量x，y的范围都是[-5,5],函数图像如下：

![截屏2023-07-27 07.27.36](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2007.27.36.png)

可以看出函数有很多极值点，我们尝试设计一个进化算法找到最小值

进化算法的过程:

1. 假设每一代种群中个体的数量都为恒定值n，每个个体的基因型都是(x,y)
2. 每个个体都经过一次变异(服从高斯概率分布或者柯西概率分布)得到孩子
   1. 使用高斯概率分布的噪声则是Class EP
   2. 使用柯西概率分布的噪声则是Fast EP
3. 父代和子代混合在一起计算适应度，使用锦标赛选择数量为n的个体作为新一代
   1. 这里的锦标赛选择是循环n次，每次随机选3个个体竞争出胜者
   2. 我采用了放回式抽样，也就是说种群中可能会有重复的个体
   3. 这样既能保证优势基因在种群中可以扩散开来，也可以保证弱小的基因也有机会胜出，有利于保持种群的多样性，不容易陷入局部最优解
4. 重复步骤1-3



## POP_SIZE

看一下种群数量对算法性能的影响：

```python
POP_SIZE = [10,20,40,80]           # Population size
N_GENERATIONS = 600    # Number of generations
```

注意：这里的fitness和真实值是相反数关系，fitness越小，真实值越大

![截屏2023-07-27 09.10.39](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2009.10.39.png)

![截屏2023-07-27 09.11.39](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2009.11.39.png)

![截屏2023-07-27 09.12.28](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2009.12.28.png)

![截屏2023-07-27 09.14.00](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2009.14.00.png)

可以看出，种群中个体数量越多越容易找到全局最优解；

这是因为，种群中个体数量越多，覆盖的解空间就越多，就越不容易陷入局部最优解，

## EA_METHOD

```python
POP_SIZE = 40           # Population size
N_GENERATIONS = 600    # Number of generations
EA_METHOD=["EP","FEP"]
```

![截屏2023-07-27 09.18.58](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2009.18.58.png)

在种群个体数量为40的时候EP算法没有找到最优解

![截屏2023-07-27 09.19.55](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2009.19.55.png)

但是FEP找到最优解了；还可以看出FEP的适应度图像更加波折；

主要原因是因为：对基因进行变异的时候，FEP算法用的是柯西概率分布，而EP算法用的是高斯概率分布；

![截屏2023-07-27 09.23.32](./detail.assets/%E6%88%AA%E5%B1%8F2023-07-27%2009.23.32.png)

从图中可以看出相比于高斯分布，柯西分布生具有较大的尾部，这意味着它有更大的可能生成原理平均值的随机数；这意味着采用柯西分布的FEP会生成更大的变异个体，从而探索更广阔的解空间，得到全局最优解；

对于rastrigin和大部分有着有非常多局部最优解的多模态函数函数，FEP的效果更好；

# Project2

旅行商问题就是：在一片区域内有一些城市，如何不重复的走遍所有的城市，最终回到原点，并且路程最短![Traveling-salesman-problem3](./detail.assets/Traveling-salesman-problem3.jpg)

用进化算法解决这个问题：

0. 随机生成若干个城市点，同时计算距离矩阵

1. 将城市编号，种群中个体的基因型就是所有的城市编号，编号的顺序不同代表路径也不同
2. 父代基因进行交叉重组，变异后得到子代，计算所有个体基因型所对应的路径长度，从而得到适应度
3. 采用锦标赛算法选择出子代
4. 重复1-3直到达到指定的迭代次数



种群的大小就代表解空间的大小，种群越大，越容易找到最短路径

最短路径的寻找过程如视频所示：
<video controls>
  <source src="./project2/imgs/animation_2d.mp4" type="video/mp4">
</video>

<video  controls>
  <source src="./project2/imgs/animation_3d.mp4" type="video/mp4">
</video>